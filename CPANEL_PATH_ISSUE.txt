================================================================================
                    CPANEL PATH ISSUE - EXPLAINED
================================================================================

                        YOUR SERVER STRUCTURE
                        =====================

    /home/linkadic/
    ‚îÇ
    ‚îú‚îÄ‚îÄ linkadi-web/                    ‚Üê Laravel application
    ‚îÇ   ‚îú‚îÄ‚îÄ app/
    ‚îÇ   ‚îú‚îÄ‚îÄ config/
    ‚îÇ   ‚îú‚îÄ‚îÄ public/                     ‚Üê NOT the web root!
    ‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ index.php
    ‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ storage/                ‚Üê Files going HERE (wrong!)
    ‚îÇ   ‚îî‚îÄ‚îÄ storage/
    ‚îÇ       ‚îî‚îÄ‚îÄ app/
    ‚îÇ           ‚îî‚îÄ‚îÄ public/
    ‚îÇ
    ‚îî‚îÄ‚îÄ public_html/                    ‚Üê Web root (accessible via web)
        ‚îú‚îÄ‚îÄ index.php ‚Üí ../linkadi-web/public/index.php
        ‚îú‚îÄ‚îÄ css/
        ‚îú‚îÄ‚îÄ js/
        ‚îî‚îÄ‚îÄ storage/                    ‚Üê Files should go HERE (correct!)
            ‚îú‚îÄ‚îÄ profile-images/
            ‚îú‚îÄ‚îÄ company-logos/
            ‚îî‚îÄ‚îÄ cover-images/


                        THE PROBLEM
                        ===========

When Laravel code runs:

    public_path('storage')

On cPanel, it resolves to:

    /home/linkadic/linkadi-web/public/storage  ‚ùå WRONG!

But we need it to resolve to:

    /home/linkadic/public_html/storage  ‚úÖ CORRECT!


                        WHY THIS HAPPENS
                        ================

    ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê
    ‚îÇ  Laravel thinks:                                         ‚îÇ
    ‚îÇ  "public" directory = linkadi-web/public/               ‚îÇ
    ‚îÇ                                                          ‚îÇ
    ‚îÇ  But on cPanel:                                          ‚îÇ
    ‚îÇ  "public" directory = public_html/                      ‚îÇ
    ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò


                        WHAT HAPPENS NOW
                        ================

    User uploads image
         ‚Üì
    Laravel runs: $image->store('profile-images', 'public')
         ‚Üì
    Laravel checks config: filesystems.disks.public.root
         ‚Üì
    Config says: public_path('storage')
         ‚Üì
    Resolves to: /home/linkadic/linkadi-web/public/storage  ‚ùå
         ‚Üì
    File saved to: linkadi-web/public/storage/profile-images/abc.jpg
         ‚Üì
    Browser requests: https://linkadi.co.tz/storage/profile-images/abc.jpg
         ‚Üì
    Web server looks in: public_html/storage/profile-images/abc.jpg
         ‚Üì
    File not found! ‚ùå
         ‚Üì
    Broken image


                        THE SOLUTION
                        ============

Add environment variable to override the path:

    .env file:
    PUBLIC_STORAGE_PATH=/home/linkadic/public_html/storage

    config/filesystems.php:
    'root' => env('PUBLIC_STORAGE_PATH', public_path('storage')),

Now when Laravel runs:

    User uploads image
         ‚Üì
    Laravel runs: $image->store('profile-images', 'public')
         ‚Üì
    Laravel checks config: filesystems.disks.public.root
         ‚Üì
    Config says: env('PUBLIC_STORAGE_PATH')
         ‚Üì
    Reads .env: /home/linkadic/public_html/storage  ‚úÖ
         ‚Üì
    File saved to: public_html/storage/profile-images/abc.jpg
         ‚Üì
    Browser requests: https://linkadi.co.tz/storage/profile-images/abc.jpg
         ‚Üì
    Web server looks in: public_html/storage/profile-images/abc.jpg
         ‚Üì
    File found! ‚úÖ
         ‚Üì
    Image displays! üéâ


                        COMPARISON
                        ==========

WITHOUT .env variable:
----------------------
Config: public_path('storage')
Resolves: linkadi-web/public/storage  ‚ùå
File saved: linkadi-web/public/storage/profile-images/abc.jpg
Web accessible: NO ‚ùå
Result: Broken image


WITH .env variable:
-------------------
Config: env('PUBLIC_STORAGE_PATH')
Resolves: public_html/storage  ‚úÖ
File saved: public_html/storage/profile-images/abc.jpg
Web accessible: YES ‚úÖ
Result: Image displays! üéâ


                        STEP-BY-STEP FIX
                        ================

Step 1: Create directory
    mkdir -p public_html/storage/profile-images

Step 2: Set permissions
    chmod -R 775 public_html/storage

Step 3: Add to .env
    echo "PUBLIC_STORAGE_PATH=/home/linkadic/public_html/storage" >> linkadi-web/.env

Step 4: Clear cache
    cd linkadi-web && php artisan config:clear

Step 5: Test
    Upload image ‚Üí Check public_html/storage/profile-images/


                        VERIFICATION
                        ============

Check where Laravel thinks storage is:

    cd linkadi-web
    php artisan tinker
    config('filesystems.disks.public.root')

Should output:
    /home/linkadic/public_html/storage  ‚úÖ

If it outputs:
    /home/linkadic/linkadi-web/public/storage  ‚ùå

Then .env variable is not loaded. Run:
    php artisan config:clear


                        COMMON MISTAKES
                        ===============

‚ùå Mistake 1: Not adding to .env
    Files still go to linkadi-web/public/storage

‚úÖ Fix: Add PUBLIC_STORAGE_PATH to .env


‚ùå Mistake 2: Not clearing cache
    Old config still cached

‚úÖ Fix: php artisan config:clear


‚ùå Mistake 3: Wrong path in .env
    PUBLIC_STORAGE_PATH=/home/linkadic/public_html/storage/profile-images
    (Too specific!)

‚úÖ Fix: PUBLIC_STORAGE_PATH=/home/linkadic/public_html/storage
    (Just the base storage directory)


‚ùå Mistake 4: Typo in .env
    PUBLIC_STORAGE_PATH=/home/linkadic/public-html/storage
    (public-html instead of public_html)

‚úÖ Fix: Use underscore: public_html


                        SUMMARY
                        =======

Problem:     public_path() resolves to wrong directory on cPanel
Cause:       cPanel uses public_html/ not linkadi-web/public/
Solution:    Override with environment variable
Fix:         Add PUBLIC_STORAGE_PATH to .env
Result:      Files save to correct location ‚úÖ

================================================================================
