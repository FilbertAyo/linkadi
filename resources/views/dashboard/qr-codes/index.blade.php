<x-dashboard-layout> <div class="pt-6"> <div class="w-full grid grid-cols-1 gap-4"> <!-- Page Header --> <div class="bg-white shadow rounded-lg p-4 sm:p-6 xl:p-8 border border-gray-200"> <div class="mb-4"> <h3 class="text-xl font-bold text-gray-900">QR Code Downloads</h3> <p class="text-base font-normal text-gray-500">Download QR codes for your profiles in multiple formats.</p> </div> </div> @if($profiles->isEmpty()) <!-- No Profiles --> <div class="bg-white shadow rounded-lg p-4 sm:p-6 xl:p-8 border border-gray-200"> <div class="text-center py-8"> <svg class="mx-auto h-12 w-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 4v1m6 11h2m-6 0h-2v4m0-11v3m0 0h.01M12 12h4.01M16 20h4M4 12h4m12 0h.01M5 8h2a1 1 0 001-1V5a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1zm12 0h2a1 1 0 001-1V5a1 1 0 00-1-1h-2a1 1 0 00-1 1v2a1 1 0 001 1zM5 20h2a1 1 0 001-1v-2a1 1 0 00-1-1H5a1 1 0 00-1 1v2a1 1 0 001 1z"></path> </svg> <h3 class="mt-2 text-sm font-medium text-gray-900">No profiles found</h3> <p class="mt-1 text-sm text-gray-500">Get started by creating a profile.</p> <div class="mt-6"> <a href="{{ route('profile.builder.index') }}" class="inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"> <svg class="-ml-1 mr-2 h-5 w-5" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 6v6m0 0v6m0-6h6m-6 0H6"></path> </svg> Create Profile </a> </div> </div> </div> @else <!-- QR Codes for Each Profile --> @foreach($profiles as $profile) <div class="bg-white shadow rounded-lg p-4 sm:p-6 xl:p-8 border border-gray-200"> <div class="flex items-center justify-between mb-6"> <div> <div class="flex items-center gap-2"> <h4 class="text-lg font-semibold text-gray-900"> üì± {{ $profile->profile_name }} </h4> @if($profile->is_primary) <span class="px-2 py-0.5 text-xs font-medium bg-indigo-100 text-indigo-800 rounded">Primary</span> @endif @php $statusColor = $profile->status_badge_color; @endphp <span class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-{{ $statusColor }}-100 text-{{ $statusColor }}-800 $statusColor }}-900 $statusColor }}-200"> {{ $profile->status_display }} </span> </div> <p class="text-sm text-gray-500 mt-1">{{ $profile->public_url }}</p> </div> </div> <div class="grid grid-cols-1 md:grid-cols-3 gap-4"> <!-- QR Code Preview --> <div class="md:col-span-1"> <div class="p-4 bg-gray-50 rounded-lg border border-gray-200"> <img src="{{ $profile->qr_code_url }}" alt="QR Code for {{ $profile->profile_name }}" class="w-full aspect-square border-2 border-gray-300 rounded mb-3"> <p class="text-xs text-center text-gray-500">Scans to your profile</p> </div> </div> <!-- Download Options --> <div class="md:col-span-2 space-y-4"> <!-- PNG Downloads --> <div class="p-4 bg-gray-50 rounded-lg border border-gray-200"> <h5 class="font-semibold text-gray-900 mb-3 flex items-center gap-2"> <svg class="w-5 h-5 text-indigo-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"></path> </svg> PNG Format </h5> <div class="grid grid-cols-2 gap-2"> <button onclick="openPreviewModal('{{ $profile->slug }}', 'png', 300, '{{ $profile->profile_name }}')" class="px-3 py-2 text-sm bg-white text-indigo-600 border border-indigo-300 rounded-lg hover:bg-indigo-50 transition-colors"> üëÅÔ∏è Small (300x300px) </button> <button onclick="openPreviewModal('{{ $profile->slug }}', 'png', 500, '{{ $profile->profile_name }}')" class="px-3 py-2 text-sm bg-white text-indigo-600 border border-indigo-300 rounded-lg hover:bg-indigo-50 transition-colors"> üëÅÔ∏è Medium (500x500px) </button> <button onclick="openPreviewModal('{{ $profile->slug }}', 'png', 1000, '{{ $profile->profile_name }}')" class="px-3 py-2 text-sm bg-white text-indigo-600 border border-indigo-300 rounded-lg hover:bg-indigo-50 transition-colors"> üëÅÔ∏è Large (1000x1000px) </button> <button onclick="openPreviewModal('{{ $profile->slug }}', 'png', 2000, '{{ $profile->profile_name }}')" class="px-3 py-2 text-sm bg-white text-indigo-600 border border-indigo-300 rounded-lg hover:bg-indigo-50 transition-colors"> üëÅÔ∏è Extra Large (2000x2000px) </button> </div> </div> <!-- SVG & PDF Downloads --> <div class="p-4 bg-gray-50 rounded-lg border border-gray-200"> <h5 class="font-semibold text-gray-900 mb-3 flex items-center gap-2"> <svg class="w-5 h-5 text-emerald-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"></path> </svg> Special Formats </h5> <div class="grid grid-cols-1 sm:grid-cols-3 gap-2"> <button onclick="openPreviewModal('{{ $profile->slug }}', 'svg', 500, '{{ $profile->profile_name }}')" class="px-3 py-2 text-sm bg-white text-emerald-600 border border-emerald-300 rounded-lg hover:bg-emerald-50 transition-colors"> üëÅÔ∏è SVG (Vector) </button> <a href="{{ route('profile.qr.card', ['slug' => $profile->slug, 'card_size' => 'card']) }}" class="px-3 py-2 text-sm bg-white text-purple-600 border border-purple-300 rounded-lg hover:bg-purple-50 transition-colors text-center"> üé¥ Business Card PDF </a> <a href="{{ route('profile.qr.card', ['slug' => $profile->slug, 'card_size' => 'postcard']) }}" class="px-3 py-2 text-sm bg-white text-purple-600 border border-purple-300 rounded-lg hover:bg-purple-50 transition-colors text-center"> üìÆ Postcard PDF </a> </div> <p class="text-xs text-gray-500 mt-2">SVG is perfect for infinite scaling. PDFs are print-ready.</p> </div> </div> </div> </div> @endforeach @endif </div> </div> <!-- Preview Modal --> <div id="previewModal" class="hidden fixed inset-0 bg-gray-900 bg-opacity-75 overflow-y-auto h-full w-full z-50" onclick="closePreviewModal(event)"> <div class="relative top-20 mx-auto p-5 border w-11/12 max-w-2xl shadow-lg rounded-lg bg-white" onclick="event.stopPropagation()"> <!-- Modal Header --> <div class="flex items-center justify-between mb-4 pb-4 border-b border-gray-200"> <h3 class="text-lg font-semibold text-gray-900" id="modalTitle">QR Code Preview</h3> <button onclick="closePreviewModal()" class="text-gray-400 hover:text-gray-600"> <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24"> <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"></path> </svg> </button> </div> <!-- Modal Body --> <div class="mb-6"> <div class="bg-gray-50 rounded-lg p-6 flex items-center justify-center"> <img id="previewImage" src="" alt="QR Code Preview" class="max-w-full h-auto border-4 border-gray-300 rounded-lg"> </div> <div class="mt-4 text-center"> <p class="text-sm text-gray-600" id="previewInfo"></p> </div> </div> <!-- Modal Footer --> <div class="flex items-center justify-end gap-3"> <button onclick="closePreviewModal()" class="px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 rounded-lg hover:bg-gray-200 transition-colors"> Cancel </button> <a id="downloadButton" href="#" class="px-4 py-2 text-sm font-medium text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 transition-colors"> ‚¨áÔ∏è Download </a> </div> </div> </div> <!-- JavaScript for Modal --> <script> function openPreviewModal(slug, format, size, profileName) { const modal = document.getElementById('previewModal'); const modalTitle = document.getElementById('modalTitle'); const previewImage = document.getElementById('previewImage'); const previewInfo = document.getElementById('previewInfo'); const downloadButton = document.getElementById('downloadButton'); // Build the preview URL (we'll use the actual QR code image) const baseUrl = "{{ url('profile') }}"; const downloadUrl = `${baseUrl}/${slug}/qr/download?format=${format}&size=${size}`; // Set modal content modalTitle.textContent = `${profileName} - ${format.toUpperCase()} (${size}x${size}px)`; previewImage.src = downloadUrl; previewInfo.textContent = `Format: ${format.toUpperCase()} | Size: ${size}x${size}px | Perfect for ${getSizeUseCase(size)}`; downloadButton.href = downloadUrl; // Show modal modal.classList.remove('hidden'); document.body.style.overflow = 'hidden'; } function closePreviewModal(event) { const modal = document.getElementById('previewModal'); modal.classList.add('hidden'); document.body.style.overflow = 'auto'; } function getSizeUseCase(size) { switch(size) { case 300: return 'web use and social media'; case 500: return 'standard printing and presentations'; case 1000: return 'high-quality prints and posters'; case 2000: return 'professional printing and large formats'; default: return 'general use'; } } // Close modal on ESC key document.addEventListener('keydown', function(event) { if (event.key === 'Escape') { closePreviewModal(); } }); </script>
</x-dashboard-layout> 